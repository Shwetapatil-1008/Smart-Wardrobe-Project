<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ColorPalette Suggetions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <style>
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); }
        .modal-dialog { max-width: 500px; margin: auto; }
        .modal-content { background-color: #fefefe; padding: 20px; border-radius: 5px; }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; }
        .close:hover, .close:focus { color: #f44336; cursor: pointer; }
        .cancelbtn, .deletebtn { padding: 10px; border: none; cursor: pointer; width: 48%; }
        .cancelbtn { background-color: #ccc; color: black; }
        .deletebtn { background-color: #f44336; color: white; }
        .clearfix::after { content: ""; clear: both; display: table; }
        .closet-container { margin-bottom: 80px; }
    </style>
</head>
<body class="bg-white text-black font-sans">
    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <div class="flex items-center justify-between p-4">
            <h1 class="text-2xl font-semibold">SmartStyler</h1>
            {% for hello in hello %}
                <h1><b><u>Welcome to Your Smart Wardrobe, {{hello['email']}}!</b></u></h1>
            {% endfor %}
        </div>

        <!-- Profile and Sign Up -->
        <div class="flex items-center justify-between px-4">
            <div class="flex items-center space-x-2">
                <div class="w-10 h-10 bg-gray-200 rounded-full"></div>
                <span>Kolhapur</span>
            </div>
            <a href="/logout" class="bg-black text-white px-4 py-2 rounded">Logout</a>
        </div>

        <!-- OOTD Calendar -->
        <div class="px-4 py-2">
            <a class="text-blue-500" href="login/ootd">Schedule Outfits &gt;</a>
        </div>

        <!-- Tabs -->
        <div class="flex justify-around border-b">
            <div class="py-2 text-gray-500 " ><a href="/color_palette" ><a href="/login/closet">Closet </a></div>
            <!-- <div class="py-2 text-gray-500"><a href="/recommend_outfits_by_occasion">Recommendation Occasionally</a> </div> -->
            <div class="py-2 text-gray-500 " ><a href="/design_outfits">Create Outfits </a></div>
            <div class="py-2 text-gray-500" ><a href="/skin_tone">Skin Tone Analysis</a></div>

            <div class="py-2 text-gray-500 border-b-2 border-black" ><a href="/color_palette">Color Palette Suggestions</a></div>
            <div class="py-2 text-gray-500" ><a href="/recommend_outfits_new">Get Recommendation</a></div>
        </div>

<br>
<br>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1 {
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        #suggestions {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-top: 20px;
        }
        .color-box {
            width: 100px;
            height: 100px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin: 5px;
            position: relative;
        }
        .color-name {
            text-align: center;
            margin-top: 5px;
            font-size: 14px;
        }
        @media (max-width: 600px) {
            .color-box {
                width: 80px;
                height: 80px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <a href="login/closet">
    <input type="submit" value="Back" style="font-size: 18px; padding: 2px 5px; width: 60px;">
</a>
    <b><h1>Color Palette Suggestions</h1></b>
    <br>
    <center><label for="favorite_color">Select Your Favorite Color:</label>
    <input type="color" id="favorite_color" name="favorite_color" value="#ff0000">
    <button onclick="getColorSuggestions()">Get Suggestions</button>

    <div id="suggestions"></div>
</div></center>

<script>
    function hexToRgb(hex) {
        let r = parseInt(hex.slice(1, 3), 16);
        let g = parseInt(hex.slice(3, 5), 16);
        let b = parseInt(hex.slice(5, 7), 16);
        return [r, g, b];
    }

    function rgbToHex(r, g, b) {
        return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
    }

    function getComplementaryColor(rgb) {
        return rgb.map(value => 255 - value);
    }

    function getAnalogousColors(rgb) {
        return [
            rgb.map(value => (value + 30) % 256),
            rgb.map(value => (value - 30 + 256) % 256)
        ];
    }

    function getColorSuggestions() {
        const colorInput = document.getElementById('favorite_color').value;
        const rgb = hexToRgb(colorInput);

        const suggestions = [];
        const colorNames = [];

        // Add complementary color
        suggestions.push(getComplementaryColor(rgb));
        colorNames.push("");

        // Add analogous colors
        const analogousColors = getAnalogousColors(rgb);
        suggestions.push(...analogousColors);
        colorNames.push("", "");

        // Add additional colors
        suggestions.push(
            [rgb[0], rgb[1] + 50, rgb[2]], // Lighter shade
            [rgb[0] + 50, rgb[1], rgb[2]], // Lighter shade
            [rgb[0], rgb[1], rgb[2] + 50], // Lighter shade
            [rgb[0] - 50, rgb[1], rgb[2]], // Darker shade
            [rgb[0], rgb[1] - 50, rgb[2]], // Darker shade
            [rgb[0], rgb[1], rgb[2] - 50]  // Darker shade
        );

        colorNames.push();

        // Clear previous suggestions
        const suggestionsContainer = document.getElementById('suggestions');
        suggestionsContainer.innerHTML = '';

        // Create color boxes for each suggestion
        suggestions.forEach((color, index ) => {
            const hexColor = rgbToHex(...color);
            const colorBox = document.createElement('div');
            colorBox.className = 'color-box';
            colorBox.style.backgroundColor = hexColor;

            const colorName = document.createElement('div');
            colorName.className = 'color-name';
            colorName.textContent = colorNames[index];

            suggestionsContainer.appendChild(colorBox);
            suggestionsContainer.appendChild(colorName);
        });
    }
</script>

</body>
</html>